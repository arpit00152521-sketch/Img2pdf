<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image to PDF Converter</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            width: 100%;
            max-width: 900px;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            padding: 30px;
            margin-top: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.5rem;
        }

        .subtitle {
            color: #7f8c8d;
            font-size: 1.1rem;
        }

        .upload-area {
            border: 3px dashed #3498db;
            border-radius: 10px;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 30px;
            transition: all 0.3s;
            cursor: pointer;
            background-color: #f8fafc;
        }

        .upload-area:hover {
            background-color: #e8f4fc;
            border-color: #2980b9;
        }

        .upload-area i {
            font-size: 60px;
            color: #3498db;
            margin-bottom: 15px;
        }

        .upload-area h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .upload-area p {
            color: #7f8c8d;
            margin-bottom: 20px;
        }

        .btn {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .btn i {
            font-size: 1.1rem;
        }

        .btn-secondary {
            background-color: #2ecc71;
        }

        .btn-secondary:hover {
            background-color: #27ae60;
        }

        .btn-danger {
            background-color: #e74c3c;
        }

        .btn-danger:hover {
            background-color: #c0392b;
        }

        .preview-section {
            margin-top: 30px;
        }

        .preview-section h2 {
            color: #2c3e50;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #ecf0f1;
        }

        .image-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .image-item {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }

        .image-item:hover {
            transform: translateY(-5px);
        }

        .image-item img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            display: block;
        }

        .image-name {
            padding: 8px;
            background-color: white;
            font-size: 0.8rem;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .remove-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: rgba(231, 76, 60, 0.8);
            color: white;
            border: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 0.8rem;
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        .instructions {
            background-color: #f8f9fa;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin-top: 30px;
            border-radius: 0 8px 8px 0;
        }

        .instructions h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .instructions ol {
            padding-left: 20px;
        }

        .instructions li {
            margin-bottom: 8px;
            color: #555;
        }

        footer {
            margin-top: 30px;
            text-align: center;
            color: white;
            font-size: 0.9rem;
        }

        .hidden {
            display: none;
        }

        .loading {
            display: none;
            text-align: center;
            margin: 20px 0;
        }

        .loading-spinner {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #3498db;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .image-list {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
            
            .action-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-file-pdf"></i> Image to PDF Converter</h1>
            <p class="subtitle">Convert your images to PDF in seconds - Free and easy to use</p>
        </header>

        <div class="upload-area" id="dropArea">
            <i class="fas fa-cloud-upload-alt"></i>
            <h3>Drag & Drop your images here</h3>
            <p>or</p>
            <button class="btn" id="browseBtn">
                <i class="fas fa-folder-open"></i> Browse Files
            </button>
            <input type="file" id="fileInput" accept="image/*" multiple class="hidden">
        </div>

        <div class="loading" id="loadingIndicator">
            <div class="loading-spinner"></div>
            <p>Converting images to PDF, please wait...</p>
        </div>

        <div class="preview-section" id="previewSection">
            <h2>Selected Images</h2>
            <div class="image-list" id="imageList">
                <!-- Images will be added here dynamically -->
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-secondary" id="convertBtn">
                    <i class="fas fa-file-pdf"></i> Convert to PDF
                </button>
                <button class="btn btn-danger" id="clearBtn">
                    <i class="fas fa-trash"></i> Clear All
                </button>
            </div>
        </div>

        <div class="instructions">
            <h3>How to use:</h3>
            <ol>
                <li>Click "Browse Files" or drag and drop your images into the upload area</li>
                <li>Review your selected images in the preview section</li>
                <li>Reorder images by dragging them if needed</li>
                <li>Click "Convert to PDF" to generate your PDF file</li>
                <li>Download your PDF and enjoy!</li>
            </ol>
        </div>
    </div>

    <footer>
        <p>Image to PDF Converter &copy; 2023 | All rights reserved</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const dropArea = document.getElementById('dropArea');
            const fileInput = document.getElementById('fileInput');
            const browseBtn = document.getElementById('browseBtn');
            const previewSection = document.getElementById('previewSection');
            const imageList = document.getElementById('imageList');
            const convertBtn = document.getElementById('convertBtn');
            const clearBtn = document.getElementById('clearBtn');
            const loadingIndicator = document.getElementById('loadingIndicator');
            
            let uploadedImages = [];
            
            // Initially hide the preview section
            previewSection.style.display = 'none';
            
            // Event listeners for file input
            browseBtn.addEventListener('click', () => fileInput.click());
            fileInput.addEventListener('change', handleFileSelect);
            
            // Drag and drop functionality
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                dropArea.addEventListener(eventName, preventDefaults, false);
            });
            
            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }
            
            ['dragenter', 'dragover'].forEach(eventName => {
                dropArea.addEventListener(eventName, highlight, false);
            });
            
            ['dragleave', 'drop'].forEach(eventName => {
                dropArea.addEventListener(eventName, unhighlight, false);
            });
            
            function highlight() {
                dropArea.style.backgroundColor = '#e1f5fe';
                dropArea.style.borderColor = '#0288d1';
            }
            
            function unhighlight() {
                dropArea.style.backgroundColor = '#f8fafc';
                dropArea.style.borderColor = '#3498db';
            }
            
            dropArea.addEventListener('drop', handleDrop, false);
            
            function handleDrop(e) {
                const dt = e.dataTransfer;
                const files = dt.files;
                handleFiles(files);
            }
            
            function handleFileSelect(e) {
                const files = e.target.files;
                handleFiles(files);
            }
            
            function handleFiles(files) {
                if (files.length > 0) {
                    previewSection.style.display = 'block';
                    
                    for (let i = 0; i < files.length; i++) {
                        const file = files[i];
                        if (file.type.match('image.*')) {
                            const reader = new FileReader();
                            
                            reader.onload = (function(theFile) {
                                return function(e) {
                                    const imageData = {
                                        name: theFile.name,
                                        data: e.target.result,
                                        file: theFile
                                    };
                                    
                                    uploadedImages.push(imageData);
                                    renderImageList();
                                };
                            })(file);
                            
                            reader.readAsDataURL(file);
                        }
                    }
                }
            }
            
            function renderImageList() {
                imageList.innerHTML = '';
                
                uploadedImages.forEach((image, index) => {
                    const imageItem = document.createElement('div');
                    imageItem.className = 'image-item';
                    imageItem.draggable = true;
                    imageItem.dataset.index = index;
                    
                    const img = document.createElement('img');
                    img.src = image.data;
                    img.alt = image.name;
                    
                    const imageName = document.createElement('div');
                    imageName.className = 'image-name';
                    imageName.textContent = image.name;
                    
                    const removeBtn = document.createElement('button');
                    removeBtn.className = 'remove-btn';
                    removeBtn.innerHTML = '<i class="fas fa-times"></i>';
                    removeBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        uploadedImages.splice(index, 1);
                        renderImageList();
                        
                        if (uploadedImages.length === 0) {
                            previewSection.style.display = 'none';
                        }
                    });
                    
                    imageItem.appendChild(img);
                    imageItem.appendChild(imageName);
                    imageItem.appendChild(removeBtn);
                    
                    imageList.appendChild(imageItem);
                });
            }
            
            // Convert to PDF functionality
            convertBtn.addEventListener('click', convertToPdf);
            
            async function convertToPdf() {
                if (uploadedImages.length === 0) {
                    alert('Please add at least one image to convert.');
                    return;
                }
                
                // Show loading indicator
                loadingIndicator.style.display = 'block';
                convertBtn.disabled = true;
                
                try {
                    // Initialize jsPDF
                    const { jsPDF } = window.jspdf;
                    const pdf = new jsPDF();
                    
                    // Process each image and add to PDF
                    for (let i = 0; i < uploadedImages.length; i++) {
                        const imageData = uploadedImages[i].data;
                        
                        // Add a new page for each image after the first one
                        if (i > 0) {
                            pdf.addPage();
                        }
                        
                        // Get image dimensions
                        const img = new Image();
                        await new Promise((resolve) => {
                            img.onload = resolve;
                            img.src = imageData;
                        });
                        
                        // Calculate dimensions to fit the page
                        const pageWidth = pdf.internal.pageSize.getWidth();
                        const pageHeight = pdf.internal.pageSize.getHeight();
                        
                        let imgWidth = img.width;
                        let imgHeight = img.height;
                        
                        // Scale image to fit page while maintaining aspect ratio
                        const ratio = Math.min(pageWidth / imgWidth, pageHeight / imgHeight);
                        imgWidth *= ratio;
                        imgHeight *= ratio;
                        
                        // Center the image on the page
                        const x = (pageWidth - imgWidth) / 2;
                        const y = (pageHeight - imgHeight) / 2;
                        
                        // Add image to PDF
                        pdf.addImage(imageData, 'JPEG', x, y, imgWidth, imgHeight);
                    }
                    
                    // Generate PDF and trigger download
                    pdf.save('converted-images.pdf');
                    
                } catch (error) {
                    console.error('Error generating PDF:', error);
                    alert('An error occurred while generating the PDF. Please try again.');
                } finally {
                    // Hide loading indicator
                    loadingIndicator.style.display = 'none';
                    convertBtn.disabled = false;
                }
            }
            
            // Clear all images
            clearBtn.addEventListener('click', () => {
                uploadedImages = [];
                previewSection.style.display = 'none';
                renderImageList();
            });
        });
    </script>
    
    <!-- Font Awesome for icons -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
</body>
    </html>
